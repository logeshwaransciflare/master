"use strict";(self.webpackChunkboomer11_web=self.webpackChunkboomer11_web||[]).push([[610],{7610:(_e,x,c)=>{c.r(x),c.d(x,{CreateEditFootballModule:()=>me});var _=c(9808),C=c(5062),y=c(3748),S=c(845),Z=c(5787),M=c(1618),D=c(4951),m=c(3807),e=c(5e3),P=c(3655),v=c(3949);let F=(()=>{class n{constructor(t,i,a){this.route=t,this.sharedDataService=i,this.footballChallenge=a,this.fixtureId=""}ngOnInit(){this.route.firstChild&&this.route.firstChild.params.subscribe(t=>{this.fixtureId="number"!=typeof parseFloat(t.id)||isNaN(t.id)?null:t.id,this.fixtureId&&(this.sharedDataService.fixtureId=this.fixtureId,this.footballChallenge.fixtureId=this.fixtureId)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz),e.Y36(P.g),e.Y36(v.I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-edit-football"]],decls:3,vars:0,consts:[[1,"main"],[1,"home_wrapper","container-box"]],template:function(t,i){1&t&&(e.TgZ(0,"main",0)(1,"section",1),e._UZ(2,"router-outlet"),e.qZA()())},dependencies:[m.lC]}),n})();var g=c(7489),U=c(2313),O=c(6439),q=c(6581),N=c(9781),E=c(507),J=c(5439),A=c(9783),I=c(5315);const K=["scrollTo"];function L(n,o){1&n&&(e.ynx(0),e._uU(1," Goal Keeper "),e.TgZ(2,"small"),e._uU(3,"\xa0\xa0(Select 1 Player)"),e.qZA(),e.BQk())}function G(n,o){1&n&&(e.ynx(0),e._uU(1," Defender "),e.TgZ(2,"small"),e._uU(3,"\xa0\xa0(Select 3 to 5 Players)"),e.qZA(),e.BQk())}function Y(n,o){1&n&&(e.ynx(0),e._uU(1," Mid Fielder "),e.TgZ(2,"small"),e._uU(3,"\xa0\xa0(Select 3 to 5 Players)"),e.qZA(),e.BQk())}function Q(n,o){1&n&&(e.ynx(0),e._uU(1," Forward "),e.TgZ(2,"small"),e._uU(3,"\xa0(Select 1 to 3 Players)"),e.qZA(),e.BQk())}function R(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",39),e._uU(2,"\xa0Playing XI"),e.qZA()),2&n&&(e.Udp("color","green"),e.xp6(1),e.Udp("font-size","8px"))}function V(n,o){if(1&n&&e._UZ(0,"div",40),2&n){const t=e.oxw().$implicit;e.Gre("bg-plus_create_team  cursor-pointer ",t.player_type,""),e.s9C("id",t.p_id)}}function H(n,o){if(1&n&&e._UZ(0,"div",40),2&n){const t=e.oxw().$implicit;e.Gre("bg-minus_create_team  cursor-pointer ",t.player_type,""),e.s9C("id",t.p_id)}}const B=function(n,o){return{bgWhite:n,bgDark:o}};function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",29),e.NdJ("click",function(a){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.selectUnselect(r,r.player_type,a,l.isClicked[r.p_id]))}),e._UZ(1,"input",30),e.TgZ(2,"td",31)(3,"img",32),e.NdJ("click",function(a){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.viewPlayer(r,a))}),e.qZA()(),e.TgZ(4,"td")(5,"div",33)(6,"strong"),e._uU(7),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"span",34),e._uU(10),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"span"),e._uU(13),e.qZA(),e._UZ(14,"br"),e.YNc(15,R,3,4,"span",35),e.qZA()(),e.TgZ(16,"td",36),e._uU(17),e.qZA(),e.TgZ(18,"td",36),e._uU(19),e.qZA(),e.TgZ(20,"td",36)(21,"div",37),e.YNc(22,V,1,4,"div",38),e.YNc(23,H,1,4,"div",38),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.WLB(11,B,!i.isClicked[t.p_id],i.isClicked[t.p_id])),e.xp6(1),e.s9C("value",t.in_11||0),e.xp6(2),e.MGl("src","https://thefantasysportsapi.com/media/teams/",t.team_name,".svg",e.LSH),e.xp6(4),e.Oqu(t.player_api),e.xp6(3),e.Oqu(t.team_name),e.xp6(3),e.hij(" Selected By ",t.selectedBypercent," %"),e.xp6(2),e.Q6J("ngIf",null!=t.in_11&&t.in_11>1),e.xp6(2),e.hij(" ",t.points," "),e.xp6(2),e.hij(" ",t.credit," "),e.xp6(3),e.Q6J("ngIf",!i.isClicked[t.p_id]),e.xp6(1),e.Q6J("ngIf",i.isClicked[t.p_id])}}function $(n,o){if(1&n&&e._uU(0),2&n){const t=e.oxw();e.hij(" ",t.createTeamLabel," Team ")}}const f=function(n){return{active:n}};function W(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",45)(2,"div",46),e._UZ(3,"img",47),e.TgZ(4,"div")(5,"strong"),e._uU(6),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",48)(11,"div",49),e.NdJ("click",function(a){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.setCaptain(r.p_id,a))}),e._uU(12," C "),e.qZA(),e.TgZ(13,"div",49),e.NdJ("click",function(a){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.setViceCaptain(r.p_id,a))}),e._uU(14," VC "),e.qZA()()(),e.BQk()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(3),e.MGl("src","https://thefantasysportsapi.com/media/teams/",t.team_name,".svg",e.LSH),e.xp6(3),e.Oqu(t.player_api),e.xp6(3),e.hij("Selected by ",t.selectedBypercent.toFixed(1),"%"),e.xp6(2),e.Q6J("ngClass",e.VKq(5,f,i.captainId===t.p_id)),e.xp6(2),e.Q6J("ngClass",e.VKq(7,f,i.viceCaptainId===t.p_id))}}function j(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",18)(2,"div",37)(3,"span",41),e._uU(4,"C"),e.qZA(),e._uU(5," Gets 2x points "),e.qZA(),e.TgZ(6,"div",37)(7,"span",41),e._uU(8,"VC"),e.qZA(),e._uU(9," Gets 1.5x points "),e.qZA()(),e.TgZ(10,"div",42)(11,"ng-scrollbar",10)(12,"cdk-virtual-scroll-viewport",11),e.YNc(13,W,15,9,"ng-container",43),e.qZA()(),e.TgZ(14,"div",37)(15,"p-button",44),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.proceedwithCaptains())}),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(13),e.Q6J("cdkVirtualForOf",t.team11Array),e.xp6(2),e.Q6J("disabled",!t.enableCaptainDialogSubmit)}}function X(n,o){if(1&n&&(e.TgZ(0,"span",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.msg," ")}}function ee(n,o){if(1&n){const t=e.EpF();e.ynx(0,51),e.TgZ(1,"div",52)(2,"button",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeDialog())}),e.TgZ(3,"span",54),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.resetAll())}),e._uU(4,"Yes, Clear"),e.qZA()()(),e.BQk()}}function te(n,o){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70)(2,"div",71),e._uU(3),e.qZA(),e.TgZ(4,"div",72),e._uU(5),e.qZA()(),e.TgZ(6,"div",73)(7,"div",69),e._uU(8,"Selected By"),e.qZA(),e.TgZ(9,"div",69),e._uU(10,"Points"),e.qZA()(),e.TgZ(11,"div",73)(12,"div",69),e._uU(13),e.qZA(),e.TgZ(14,"div",69),e._uU(15),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.fixture_sh),e.xp6(2),e.Oqu(t.fixture_date),e.xp6(8),e.hij("",t.selectedBypercent," %"),e.xp6(2),e.Oqu(t.f_points)}}function ie(n,o){if(1&n&&(e.TgZ(0,"div",66)(1,"section",67),e.YNc(2,te,16,4,"div",68),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t._fan_stats)}}function ae(n,o){1&n&&(e.TgZ(0,"div",36),e._UZ(1,"img",74),e.TgZ(2,"p",75),e._uU(3,"No Records Found"),e.qZA()())}function ne(n,o){if(1&n&&(e.TgZ(0,"div",55)(1,"div",56)(2,"div",57)(3,"div",58)(4,"div",59),e._uU(5),e.qZA(),e.TgZ(6,"small"),e._uU(7),e.qZA(),e.TgZ(8,"div",60)(9,"small"),e._uU(10),e.qZA(),e.TgZ(11,"small"),e._uU(12),e.qZA(),e.TgZ(13,"small"),e._uU(14),e.qZA()(),e.TgZ(15,"div",60)(16,"small"),e._uU(17),e.qZA(),e.TgZ(18,"small"),e._uU(19),e.qZA(),e.TgZ(20,"small"),e._uU(21),e.qZA()()(),e.TgZ(22,"div",58)(23,"div",61),e._UZ(24,"img",62),e.qZA()()(),e.TgZ(25,"div")(26,"h4",63),e._uU(27,"Fantasy Stats"),e.qZA(),e.YNc(28,ie,3,1,"div",64),e.qZA(),e.TgZ(29,"div"),e.YNc(30,ae,4,0,"div",65),e.qZA()()(),e._UZ(31,"div",55)),2&n){const t=e.oxw();e.xp6(5),e.Oqu(t._player.player_name),e.xp6(2),e.AsE("",t._player.team.team_name," | ",t._player.player_type,""),e.xp6(3),e.Oqu("Selected by"),e.xp6(2),e.Oqu("Points"),e.xp6(2),e.Oqu("Credit"),e.xp6(3),e.hij(" ",t._player.selectedBypercent.toFixed(1),"% "),e.xp6(2),e.Oqu(t._player.total_f_points),e.xp6(2),e.Oqu(t._player.player_value),e.xp6(3),e.MGl("src","https://thefantasysportsapi.com/media/teams/",t._playerImg,".svg",e.LSH),e.xp6(4),e.Q6J("ngIf",0!==t._fan_stats.length),e.xp6(2),e.Q6J("ngIf",0===t._fan_stats.length)}}const T=function(n,o,t){return{"pi-sort":n,"pi-sort-down":o,"pi-sort-up":t}},se=function(){return{width:"30vw"}},le=function(){return{"960px":"75vw","640px":"100vw"}},k=function(){return{"960px":"auto","640px":"100vw"}},re=function(){return{width:"60%",height:"450px",padding:"0px"}};let oe=(()=>{class n{constructor(t,i,a){this.challengesFootballService=t,this.messageService=i,this.router=a,this.creditLimitUpdate=new e.vpe,this.previewTeam=new e.vpe,this.teamCount=new e.vpe,this.activeRole="GK",this.isClicked=[],this.isDesc=!1,this._selectedteamCount=0,this._teamCount=11,this._creditLimit=100,this.team11Array=[],this._forward_max=3,this._def_max=5,this._mid_max=5,this._proceedNext=!1,this.selectedGKcount=0,this.selectedDEFcount=0,this.selectedFWDcount=0,this.selectedMIDcount=0,this._proceedtoChooseCaptains=!1,this._proceedToTeamCreation=!1,this.enableCaptainDialogSubmit=!1,this.createTeamLabel="Create",this.captainSelectionDialog=!1,this._viewPlayer=!1,this.$totalCreditLimit=100,this.userTeamsId=[],this.allCredits=0,this.count={player_api:0,in_11:0,points:0,credit:0},this.player_api=!0,this.in_11=!0,this.points=!0,this.credit=!0}ngOnInit(){this.challengesFootballService.fixtureState.subscribe(t=>{t&&(this.fixture_id=this.challengesFootballService.fixtureId,this.challengesFootballService.getAllUserTeams(this.fixture_id).subscribe(i=>{i&&i.success&&(this.userTeamCount=g.size(i.data),this.allUserTeams=i.data,("EDIT"===this.challengesFootballService.teamCreateStatus||"CLONE"===this.challengesFootballService.teamCreateStatus)&&this.existingUserTeamsUpdateObj())},i=>{}),this.cloneData=this.challengesFootballService.clonedTeamData,this.editTeam="EDIT"===this.challengesFootballService.teamCreateStatus&&this.challengesFootballService.clonedTeamData.team[0].team,this.geAllSquads())})}geAllSquads(){this.challengesFootballService.geAllSquads(this.teamSquads,this.series_ID,this.challengesFootballService.fixtureId).subscribe(i=>{i&&g.size(i)&&(this.listOfPlayers=i.data,this.getActiveTabPlayers(this.listOfPlayers))},i=>{})}getActiveTabPlayers(t){null==t||t.forEach(i=>{i.points=i.total_f_points,i.p_id=i.id,i.credit=i.player_value,i.team_name=i.team.team_sn}),this.challengesFootballService.clonedTeamData&&("EDIT"===this.challengesFootballService.teamCreateStatus||"CLONE"===this.challengesFootballService.teamCreateStatus)&&(this.selecetedTeamCaptain=this.captainId=this.cloneData.captain,this.selecetedTeamViceCaptain=this.viceCaptainId=this.cloneData.vcaptain,t.map(i=>{let a=i;return this.cloneData.team.flatMap(s=>s.p_id).includes(i.id)&&this.addPlayer(i,i.player_type,null),a}),"EDIT"===this.challengesFootballService.teamCreateStatus?(this.createTeamLabel="Update",this._proceedToTeamCreation=!0):this.createTeamLabel="Create"),this.myPlayers=t.filter(i=>i.player_type===this.activeRole),this.default=this.myPlayers,this.myPlayers=[...this.myPlayers];for(const i of this.myPlayers)i.credit=Number(i.credit);this.SORT_using&&this.SORT_using&&this.theadSortFn(this.myPlayers,"player_api"==this.SORT_using?this.player_api:"in_11"==this.SORT_using?this.in_11:"points"==this.SORT_using?this.points:"credit"==this.SORT_using?this.credit:null,this.SORT_using)}sort(t,i){this.SORT_using=t,i&&(this.count[t]+=1,"player_api"==t&&this.count[t]%3&&(this.player_api=!this.player_api,this.theadSortFn(this.myPlayers,this.player_api,t)),"in_11"==t&&this.count[t]%3&&(this.in_11=!this.in_11,this.theadSortFn(this.myPlayers,this.in_11,t)),"points"==t&&this.count[t]%3&&(this.points=!this.points,this.theadSortFn(this.myPlayers,this.points,t)),"credit"==t&&this.count[t]%3&&(this.credit=!this.credit,this.theadSortFn(this.myPlayers,this.credit,t))),this.myPlayers=this.count[t]%3?[...this.myPlayers]:this.default}theadSortFn(t,i,a){t.sort((s,r)=>{var l="string"==typeof s[a],d=l?s[a].toLowerCase():s[a],h=l?r[a].toLowerCase():r[a];let p=i?1:-1;return d<h?p:d>h?-p:0})}showRole(t){this.activeRole=t,this.getActiveTabPlayers(this.listOfPlayers),this.scrollTo.nativeElement.scrollTop=0}infoPlayer(t){}emitDataInHeader(){let t=0;this.team11Array&&this.team11Array.length&&(t=this.team11Array.map(i=>i.credit).reduce((i,a)=>Number(i)+Number(a))),this.creditLimitUpdate.emit({teamCount:this._selectedteamCount,credit:this.$totalCreditLimit-t,team1:this.team11Array.filter(i=>i.team_id==[...new Set(this.teamSquads.split(",").flatMap(a=>a))][0]).length,team2:this.team11Array.filter(i=>i.team_id==[...new Set(this.teamSquads.split(",").flatMap(a=>a))][1]).length}),this.team11Array=[...this.team11Array],this.previewTeam.emit({team11:this.team11Array,captainId:this.selecetedTeamCaptain,viceCaptainId:this.selecetedTeamViceCaptain,teamCount:this._selectedteamCount})}enableProceed(t){this._proceedNext=t.length==this._teamCount}selectedTeamLength(t){return this.team11Array.filter(function(a){return a.team_id==t}).length}checkBatsmanElligible(t,i){return t.filter(function(s){return s.player_type==i}).length}updateTeam11AfterValidate(t,i){if(7===this.selectedTeamLength(t.team_id))this.allCredits-=t.credit,i&&this.alertMsg("You can select maximum 7 players from one team");else if(this._selectedteamCount==this._teamCount-1&&t.credit<=this._creditLimit){let s=!1,r=this.getPlayerCount("DEF"),l=this.getPlayerCount("ST"),d=this.getPlayerCount("MID");if(1!==this.getPlayerCount("GK")&&"GK"!=t.player_type)return i&&this.checkLimits(t.player_type,i),void(s=!0);if(l<1&&"ST"!=t.player_type)return i&&this.checkLimits(t.player_type,i),void(s=!0);if(r<3&&"DEF"!=t.player_type)return i&&this.checkLimits(t.player_type,i),void(s=!0);if(d<3&&"MID"!=t.player_type)return i&&this.checkLimits(t.player_type,i),void(s=!0);s||(this.team11Array.filter(p=>p.id==t.id).length||this.team11Array.push(t),this.isClicked[t.p_id]=!0,this._selectedteamCount=this.team11Array.length,this.enableProceed(this.team11Array),this.emitDataInHeader())}else if(t.credit>this._creditLimit)i&&this.alertMsg("Insufficient Credits");else{if(this._selectedteamCount==this._teamCount)return void(i&&this.alertMsg("You could only select 11 Players only."));this.isClicked[t.p_id]=!0,this.team11Array.filter(s=>s.id==t.id).length||this.team11Array.push(t),this._selectedteamCount=this.team11Array.length,this.emitDataInHeader()}this._selectedteamCount=this.team11Array.length,this._selectedteamCount===this._teamCount&&(this._proceedtoChooseCaptains=!0),this._proceedtoChooseCaptains&&this.selecetedTeamCaptain&&this.selecetedTeamViceCaptain&&(this._proceedToTeamCreation=!0)}getPlayerCount(t){return this.team11Array.filter(function(a){return a.player_type==t}).length}checkLimits(t,i){let a=this.getPlayerCount("GK"),s=this.getPlayerCount("DEF"),r=this.getPlayerCount("ST"),l=this.getPlayerCount("MID");if(3!==r||5!==s||5!==l||1!==a){if(a<1&&"GK"!==t)return i&&this.alertMsg("You need to have atleast 1 Goal-Keeper.");if(s<3&&"DEF"!==t)return i&&this.alertMsg("You need to have atleast 3 Defender.");if(l<3&&"MID"!==t)return i&&this.alertMsg("You need to have atleast 3 Mid Fielder.");if(r<1&&"ST"!==t)return i&&this.alertMsg("You need to have atleast 1 Forward.")}}checkRolePlayer(t){let i=this.getPlayerCount("GK"),a=this.getPlayerCount("DEF"),s=this.getPlayerCount("ST"),r=this.getPlayerCount("MID");"DEF"==t?(i||1)+a+(s||1)+(r||3)<11&&(5==a?(this._mid_max=4,this._forward_max=1):4==a?(this._mid_max=5,this._forward_max=2):3==a&&(this._mid_max=5,this._forward_max=3)):"MID"==t?(i||1)+(a||3)+(s||1)+r<11&&(5==a?(this._def_max=4,this._forward_max=1):4==a?(this._def_max=5,this._forward_max=2):3==a&&(this._def_max=5,this._forward_max=3)):"ST"==t&&(i||1)+(a||3)+s+(r||3)<11&&(3==s?(this._def_max=4,this._mid_max=4):(2==s||1==s)&&(this._def_max=5,this._mid_max=5))}removePlayer(t,i=!1){if(this.allCredits-=t.credit,i){var a=document.querySelectorAll(".GK");[].forEach.call(a,function(s){s.classList.add("bg-plus_create_team")}),this.isClicked[t.p_id]=!1}("EDIT"===this.challengesFootballService.teamCreateStatus||"CLONE"===this.challengesFootballService.teamCreateStatus)&&(this.cloneData.team=this.cloneData.team.filter(s=>s.p_id!=t.p_id),(this.selecetedTeamCaptain===t.p_id||this.captainId===t.p_id)&&(this.selecetedTeamCaptain=this.captainId=null,this.cloneData.captain=null),(this.selecetedTeamViceCaptain===t.p_id||this.viceCaptainId===t.p_id)&&(this.cloneData.vcaptain=null,this.selecetedTeamViceCaptain=this.viceCaptainId=null)),this.myPlayers.forEach(s=>{s.id==t.p_id&&t.swap&&delete s.selected}),this.myPlayers=[...this.myPlayers],this.team11Array=this.team11Array.filter(s=>s.p_id?s.p_id!=t.p_id:s.id!=t.p_id),this._selectedteamCount=this.team11Array.length,this._selectedteamCount&&(this.selectedGKcount=this.getPlayerCount("GK")||0,this.selectedDEFcount=this.getPlayerCount("DEF")||0,this.selectedFWDcount=this.getPlayerCount("ST")||0,this.selectedMIDcount=this.getPlayerCount("MID")||0),this.emitDataInHeader(),this.enableProceed(this.team11Array),this._proceedtoChooseCaptains=!1,this._proceedToTeamCreation=!1}checkIfAlreadyExists(t,i){return!!this.isExists(t,i)&&(this.alertMsg("You have already created a team with same combination"),!0)}proceedtoChooseCaptains(){if(this._selectedteamCount!==this._teamCount)return this.alertMsg("Choose 11 Players");this.captainSelectionDialog=!0,this.selecetedTeamCaptain&&this.selecetedTeamViceCaptain&&this.checkIfPlayerPresent(),this.captainId&&this.viceCaptainId&&(this.enableCaptainDialogSubmit=!0)}checkIfPlayerPresent(){this.team11Array.flatMap(i=>i.id).includes(this.selecetedTeamCaptain&&this.selecetedTeamViceCaptain)?(this.captainId=this.selecetedTeamCaptain,this.viceCaptainId=this.selecetedTeamViceCaptain,this.enableCaptainDialogSubmit=!0):(this.captainId=null,this.viceCaptainId=null,this.enableCaptainDialogSubmit=!0)}proceedwithCaptains(){if(!this.captainId||!this.viceCaptainId)return this.messageService.add({severity:"warn",summary:"",detail:"Please select the Captain and vice captain"});this.captainSelectionDialog=!1,this.selecetedTeamCaptain=this.captainId,this.selecetedTeamViceCaptain=this.viceCaptainId,this.captainId=null,this.viceCaptainId=null,this.enableCaptainDialogSubmit=!1,this.team11Array=[...this.team11Array],this.previewTeam.emit({team11:this.team11Array,captainId:this.selecetedTeamCaptain,viceCaptainId:this.selecetedTeamViceCaptain}),this._proceedToTeamCreation=!(this._selectedteamCount!==this._teamCount||!this.selecetedTeamCaptain||!this.selecetedTeamViceCaptain)}proceedToTeamCreation(){if(11!==Object.values(this.isClicked).filter(l=>!0===l).length)return this.alertMsg("Please select 11 players in total");let t=Object.assign({},this.team11Array.flatMap(l=>l.p_id));const i=this.userTeamCount+1;t.cap=this.selecetedTeamCaptain,t.vc=this.selecetedTeamViceCaptain,t.GK=this.team11Array.filter(l=>"GK"===l.player_type)[0].p_id;let a=this.team11Array.flatMap(l=>l.p_id);a.cap=t.cap,a.vc=t.vc,a.GK=t.GK;const s=g.clone(this.allUserTeams);this.checkIfAlreadyExists(a,s)||("EDIT"===this.challengesFootballService.teamCreateStatus?this.updateUserTeam(t,this.fixture_id,this.editTeam):this.challengesFootballService.createUserTeams(t,this.fixture_id,i).subscribe(l=>{l&&l.success?(setTimeout(()=>{let d=sessionStorage.getItem("joinURl");this.router.navigateByUrl(`${d}`)},2100),this.messageService.add({severity:"success",summary:"",detail:"Team Created Successfully",life:2e3})):this.messageService.add({severity:"warn",summary:"",detail:l.message})},l=>{console.error(l)}))}updateUserTeam(t,i,a){this.challengesFootballService.updateUserTeam(t,i,a).subscribe(s=>{if(s&&s.success){let r=sessionStorage.getItem("joinURl");setTimeout(()=>{this.router.navigateByUrl(`${r}`)},2100),this.messageService.add({severity:"success",summary:"",detail:"Team updated Successfully",life:2e3})}else this.messageService.add({severity:"warn",summary:"",detail:s.message})},s=>{console.error(s)})}existingUserTeamsUpdateObj(){for(let t=1;t<=Object.keys(this.allUserTeams).length;t++){let i=this.allUserTeams[t].filter(r=>"GK"===r.squads[0].player_type)[0].p_id,a=this.allUserTeams[t].filter(r=>"captain"===r.title)[0].p_id,s=this.allUserTeams[t].filter(r=>"vcaptain"===r.title)[0].p_id;this.allUserTeams[t]=this.allUserTeams[t].flatMap(r=>r.p_id),this.allUserTeams[t].GK=i,this.allUserTeams[t].cap=a,this.allUserTeams[t].vc=s,this.showRole(this.activeRole)}}resetAll(){var t;this.team11Array=[],this._proceedToTeamCreation=!1,this.selectedGKcount=0,this.selectedDEFcount=0,this.selectedFWDcount=0,this.selectedMIDcount=0,this.isClicked=[],this.isDesc=!1,this._creditLimit=100,this._def_max=5,this._forward_max=3,this._mid_max=5,this._proceedNext=!1,this._selectedteamCount=0,this._teamCount=11,this.creditLimitUpdate.emit({teamCount:0,credit:100,team1:0,team2:0}),null===(t=this.myPlayers)||void 0===t||t.forEach(i=>{this.removePlayer(i)}),this.challengesFootballService.clonedTeamData&&(this.challengesFootballService.clonedTeamData=""),this.allCredits=0}isExists(t,i){let a=[];for(let s=1;s<=this.userTeamCount;s++)g.isEqual(Object.assign({},t),Object.assign({},i[s]))?a.push(!0):a.push(!1);return a.includes(!0)}closeCaptainDialog(){return this.captainId=null,this.viceCaptainId=null,this.captainId&&this.viceCaptainId&&(this.enableCaptainDialogSubmit=!0),this.enableCaptainDialogSubmit=!1}setCaptain(t,i){this.viceCaptainId&&this.viceCaptainId===t?(this.setViceCaptain(null,null),this.captainId=t):this.captainId=t,this.captainId&&this.viceCaptainId&&(this.enableCaptainDialogSubmit=!0)}setViceCaptain(t,i){this.captainId&&this.captainId===t?(this.setCaptain(null,null),this.viceCaptainId=t):this.viceCaptainId=t,this.captainId&&this.viceCaptainId&&(this.enableCaptainDialogSubmit=!0)}clearAll(){if(!Object.values(this.isClicked).some(t=>!0===t))return this.alertMsg("Please select a player.!");this.showWarning=!0,this.msg="Are you sure you want to clear your player selection ?"}closeDialog(){this.showWarning=!1,this.msg=""}viewPlayer(t,i){i.stopPropagation();let a={series_ID:this.series_ID,p_id:t.p_id};this._viewPlayer=!0,this._playerImg=t.team_name,this.challengesFootballService.getPlayerAdapter(a).subscribe(s=>{if(s.success){this._player=s.data.player_info;const l=Object.values(s.data.fan_stats).sort((d,h)=>d.fixture_date-h.fixture_date);for(const d of l)d.fixture_date=J(d.fixture_date).format("MMMM,DD,YYYY");this._fan_stats=Object.values(s.data.fan_stats)}})}selectUnselect(t,i,a,s){s?this.removePlayer(t,!0):this.addPlayer(t,i,a)}addPlayer(t,i,a){if(this._selectedteamCount!==this._teamCount)this._selectedteamCount=this.team11Array.length,"GK"===i&&this.goalKeeper(t,a),"DEF"===i&&this.defender(t,a),"ST"===i&&this.forward(t,a),"MID"===i&&this.middle(t,a);else if(a)return this.alertMsg("You could only select 11 Players only.")}goalKeeper(t,i){this.selectedGKcount="",this.getPlayerCount("GK")<1&&this.limitcheck("GK")?this.creditCheck(t.credit)?this.updateTeam11AfterValidate(t,i):i&&this.alertMsg("You can use up to 100 credits only "):1===this.getPlayerCount("GK")?i&&this.alertMsg("You have already selected a Goal-Keeper"):this.checkLimits(t.player_type,i),this.selectedGKcount=this.getPlayerCount("GK")||0}defender(t,i){this.selectedDEFcount="",this.getPlayerCount("DEF")<this._def_max&&this.limitcheck("DEF")?this.creditCheck(t.credit)?this.updateTeam11AfterValidate(t,i):i&&this.alertMsg("You can use up to 100 credits only "):5===this.getPlayerCount("DEF")?i&&this.alertMsg(`you can\u2019t select more than ${this._def_max} defender`):this.checkLimits(t.player_type,i),this.selectedDEFcount=this.getPlayerCount("DEF")||0}forward(t,i){this.selectedFWDcount="",this.getPlayerCount("ST")<this._forward_max&&this.limitcheck("ST")?this.creditCheck(t.credit)?this.updateTeam11AfterValidate(t,i):i&&this.alertMsg("You can use up to 100 credits only "):3===this.getPlayerCount("ST")?i&&this.alertMsg(`you can\u2019t select more than ${this._forward_max} forward`):this.checkLimits(t.player_type,i),this.selectedFWDcount=this.getPlayerCount("ST")||0}middle(t,i){this.selectedMIDcount="",this.getPlayerCount("MID")<this._mid_max&&this.limitcheck("MID")?this.creditCheck(t.credit)?this.updateTeam11AfterValidate(t,i):i&&this.alertMsg("You can use up to 100 credits only "):5===this.getPlayerCount("MID")?i&&this.alertMsg(`you can\u2019t select more than ${this._mid_max} middle`):this.checkLimits(t.player_type,i),this.selectedMIDcount=this.getPlayerCount("MID")||0}limitcheck(t){let l,i=this.getPlayerCount("GK"),a=this.getPlayerCount("DEF"),s=this.getPlayerCount("ST"),r=this.getPlayerCount("MID"),d=i||1,h=a>3?a:3,p=s||1,u=r>3?r:3;return"GK"==t&&(l=i+h+p+u<11),"DEF"==t&&(l=d+a+p+u<11),"ST"==t&&(l=d+h+s+u<11),"MID"==t&&(l=d+h+p+r<11),l}creditCheck(t){return this.allCredits+=t,!(this.allCredits>100&&(this.allCredits-=t,1))}alertMsg(t){this.messageService.add({severity:"warn",summary:"",detail:`${t}`})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.I),e.Y36(A.ez),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["create-team-selection-football"]],viewQuery:function(t,i){if(1&t&&e.Gf(K,5,e.SBq),2&t){let a;e.iGM(a=e.CRH())&&(i.scrollTo=a.first)}},inputs:{teamSquads:"teamSquads",series_ID:["Series_ID","series_ID"],type:["Type","type"]},outputs:{creditLimitUpdate:"creditLimitUpdate",previewTeam:"previewTeam",teamCount:"teamCount"},decls:59,vars:66,consts:[[1,"d-flex","justify-content-evenly"],[1,"h-item",3,"ngClass","click"],[1,"d-flex","justify-content-center","align-items-center","infotoSelect"],[4,"ngIf"],[1,"player-rows"],[1,"table","blockTableNobody"],["scope","col",3,"click"],[1,"pi",3,"ngClass"],["scope","col",1,"text-center",3,"click"],["scope","col",2,"width","30px"],["thumbClass","white-scrollbars",1,"virtual-scroll"],["scrollViewport","","itemSize","50",1,"example-viewport"],["scrollTo",""],[1,"table","blockTable"],[1,"hide"],["scope","col"],["scope","col",1,"text-center"],["class","cursor-pointer",3,"ngClass","click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"d-flex","justify-content-evenly","align-items-center"],["pRipple","","label","Clear All",3,"click"],["pRipple","","label","Choose Captains",3,"disabled","click"],["pRipple","",3,"disabled","click"],["pTemplate","content"],["header","Choose Your Captain & Vice Captain","styleClass","captainDialog",3,"modal","visible","breakpoints","draggable","onHide","visibleChange"],[1,"warning",3,"modal","visible","breakpoints","draggable","visibleChange"],["pTemplate","header"],["style","\n      border-bottom-left-radius: inherit;\n      border-bottom-right-radius: inherit;\n    ",4,"ngIf"],[1,"playerPersonal",3,"modal","visible","breakpoints","draggable","visibleChange","onHide"],["pTemplate",""],[1,"cursor-pointer",3,"ngClass","click"],["type","hidden",3,"value"],["width","50"],["alt","Team 2","width","35","height","40",3,"src","click"],[1,"align-items-center","cursor-pointer"],[1,"team_name_sn"],[3,"color",4,"ngIf"],[1,"text-center"],[1,"d-flex","justify-content-center","align-items-center"],[3,"class","id",4,"ngIf"],[1,"pi","dot","pi-circle-fill"],[3,"id"],[1,"roundedEle","active"],[1,"w-100","d-flex","justify-content-evenly","align-items-center","flex-column"],[4,"cdkVirtualFor","cdkVirtualForOf"],["pRipple","","label","Submit",3,"disabled","click"],[1,"d-flex","rowItem","justify-content-between","w-100","align-items-center"],[1,"d-flex","align-items-center"],["alt","Team 2","width","35","height","40",2,"margin-right","10px",3,"src"],[1,"d-flex"],[1,"roundedEle",3,"ngClass","click"],[2,"display","flex","gap","5px"],[2,"border-bottom-left-radius","inherit","border-bottom-right-radius","inherit"],[1,"c-action","d-flex","justify-content-end"],[1,"c-action-btn",3,"click"],[1,"cursor-pointer",3,"click"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-sm-6"],[1,"h5"],[1,"d-flex","flex-wrap","content_space"],[1,"d-flex","justify-content-end"],["width","100","height","100",3,"src"],[1,"font-bold","text-center","pt-2","pb-0"],["class","card scroll px-3",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card","scroll","px-3"],[1,"pb-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"row",2,"background-color","gray","color","white"],[1,"col-4"],[1,"col-8"],[1,"row","text-center"],["src","/assets/images/basketball-nodata.png","height","200","width","200"],[1,"h6","font-bold"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return i.showRole("GK")}),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e.NdJ("click",function(){return i.showRole("DEF")}),e._uU(4),e.qZA(),e.TgZ(5,"div",1),e.NdJ("click",function(){return i.showRole("MID")}),e._uU(6),e.qZA(),e.TgZ(7,"div",1),e.NdJ("click",function(){return i.showRole("ST")}),e._uU(8),e.qZA()(),e.TgZ(9,"div",2),e.YNc(10,L,4,0,"ng-container",3),e.YNc(11,G,4,0,"ng-container",3),e.YNc(12,Y,4,0,"ng-container",3),e.YNc(13,Q,4,0,"ng-container",3),e.qZA(),e.TgZ(14,"div",4)(15,"table",5)(16,"thead")(17,"tr")(18,"th",6),e.NdJ("click",function(s){return i.sort("player_api",s)}),e._uU(19," Players "),e._UZ(20,"i",7),e.qZA(),e.TgZ(21,"th",6),e.NdJ("click",function(s){return i.sort("in_11",s)}),e._uU(22," Playing 11 "),e._UZ(23,"i",7),e.qZA(),e.TgZ(24,"th",8),e.NdJ("click",function(s){return i.sort("points",s)}),e._uU(25," Points "),e._UZ(26,"i",7),e.qZA(),e.TgZ(27,"th",6),e.NdJ("click",function(s){return i.sort("credit",s)}),e._uU(28," Credits "),e._UZ(29,"i",7),e.qZA(),e._UZ(30,"th",9),e.qZA()()(),e.TgZ(31,"ng-scrollbar",10)(32,"cdk-virtual-scroll-viewport",11,12)(34,"table",13)(35,"thead")(36,"tr",14)(37,"th",15),e._uU(38,"Players"),e.qZA(),e.TgZ(39,"th",15),e._uU(40,"Playing 11"),e.qZA(),e.TgZ(41,"th",16),e._uU(42,"Points"),e.qZA(),e.TgZ(43,"th",15),e._uU(44,"Credits"),e.qZA()()(),e.TgZ(45,"tbody"),e.YNc(46,z,24,14,"tr",17),e.qZA()()()(),e.TgZ(47,"div",18)(48,"p-button",19),e.NdJ("click",function(){return i.clearAll()}),e.qZA(),e.TgZ(49,"p-button",20),e.NdJ("click",function(){return i.proceedtoChooseCaptains()}),e.qZA(),e.TgZ(50,"p-button",21),e.NdJ("click",function(){return i.proceedToTeamCreation()}),e.YNc(51,$,1,1,"ng-template",22),e.qZA()()(),e.TgZ(52,"p-dialog",23),e.NdJ("onHide",function(){return i.closeCaptainDialog()})("visibleChange",function(s){return i.captainSelectionDialog=s}),e.YNc(53,j,16,2,"ng-container",3),e.qZA(),e.TgZ(54,"p-dialog",24),e.NdJ("visibleChange",function(s){return i.showWarning=s}),e.YNc(55,X,2,1,"ng-template",25),e.YNc(56,ee,5,0,"ng-container",26),e.qZA(),e.TgZ(57,"p-dialog",27),e.NdJ("visibleChange",function(s){return i._viewPlayer=s})("onHide",function(){return i._viewPlayer=!1}),e.YNc(58,ne,32,12,"ng-template",28),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngClass",e.VKq(37,f,"GK"===i.activeRole)),e.xp6(1),e.hij(" GK(",i.selectedGKcount||"0",") "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,f,"DEF"===i.activeRole)),e.xp6(1),e.hij(" DEF(",i.selectedDEFcount||"0",") "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,f,"MID"===i.activeRole)),e.xp6(1),e.hij(" MID(",i.selectedMIDcount||"0",") "),e.xp6(1),e.Q6J("ngClass",e.VKq(43,f,"ST"===i.activeRole)),e.xp6(1),e.hij(" FWD(",i.selectedFWDcount||"0",") "),e.xp6(2),e.Q6J("ngIf","GK"===i.activeRole),e.xp6(1),e.Q6J("ngIf","DEF"===i.activeRole),e.xp6(1),e.Q6J("ngIf","MID"===i.activeRole),e.xp6(1),e.Q6J("ngIf","ST"===i.activeRole),e.xp6(7),e.Q6J("ngClass",e.kEZ(45,T,!(i.count.player_api%3),i.player_api&&i.count.player_api%3,!i.player_api&&i.count.player_api%3)),e.xp6(3),e.Q6J("ngClass",e.kEZ(49,T,!(i.count.in_11%3),i.in_11&&i.count.in_11%3,!i.in_11&&i.count.in_11%3)),e.xp6(3),e.Q6J("ngClass",e.kEZ(53,T,!(i.count.points%3),i.points&&i.count.points%3,!i.points&&i.count.points%3)),e.xp6(3),e.Q6J("ngClass",e.kEZ(57,T,!(i.count.credit%3),i.credit&&i.count.credit%3,!i.credit&&i.count.credit%3)),e.xp6(17),e.Q6J("cdkVirtualForOf",i.myPlayers),e.xp6(3),e.Q6J("disabled",!i._proceedtoChooseCaptains),e.xp6(1),e.Q6J("disabled",!i._proceedToTeamCreation),e.xp6(2),e.Akn(e.DdM(61,se)),e.Q6J("modal",!0)("visible",i.captainSelectionDialog)("breakpoints",e.DdM(62,le))("draggable",!1),e.xp6(1),e.Q6J("ngIf",i.captainSelectionDialog),e.xp6(1),e.Q6J("modal",!1)("visible",i.showWarning)("breakpoints",e.DdM(63,k))("draggable",!1),e.xp6(2),e.Q6J("ngIf",i.showWarning),e.xp6(1),e.Akn(e.DdM(64,re)),e.Q6J("modal",!1)("visible",i._viewPlayer)("breakpoints",e.DdM(65,k))("draggable",!1))},dependencies:[_.mk,_.sg,_.O5,C.xd,C.x0,C.N7,S.zx,Z.H,I.V,A.jx,y.KC,y.fK],styles:["[_nghost-%COMP%]{display:block;width:100%}.h-item[_ngcontent-%COMP%]{color:#1f1b53;font-size:.8em;font-weight:900;padding:10px 0 5px;text-transform:uppercase;cursor:pointer;border-bottom:3px solid transparent;transition:.3s ease all}.h-item.active[_ngcontent-%COMP%]{border-bottom:3px solid #e5188c}.infotoSelect[_ngcontent-%COMP%]{color:#fff;background-color:#141941;padding:5px 0;font-size:.8em;margin-top:10px}.infotoSelect[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#dee2e6}  ng-scrollbar.virtual-scroll{--scrollbar-size: 0px;--scrollbar-thumb-color: #f68f3b;--scrollbar-hover-size: 0px;--scrollbar-track-color: gray;--scrollbar-border-radius: 0px;min-height:68vh;max-height:68vh;overflow:hidden}  .captainDialog ng-scrollbar{width:100%}.blockTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .blockTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .blockTableNobody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .blockTableNobody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;vertical-align:middle}.blockTableNobody[_ngcontent-%COMP%]{margin:0}.blockTableNobody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-family:Avenir Medium;background-color:#d7daf3;color:#141941;font-size:11pt}.blockTableNobody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem}.blockTableNobody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8pt}.blockTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#161b47;opacity:1;font-size:9pt;padding:.5rem}.bg-minus_create_team[_ngcontent-%COMP%]{width:20px;height:20px;background:url(/assets/images/teamSelect.png) -50px -10px}.bg-plus_create_team[_ngcontent-%COMP%]{width:20px;height:20px;background:url(/assets/images/teamSelect.png) -10px -10px}.bgWhite[_ngcontent-%COMP%]{background-color:#fff}.bgDark[_ngcontent-%COMP%]{background-color:gray}.bgWhite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:1}.bgDark[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}tr.hide[_ngcontent-%COMP%]{visibility:hidden;line-height:0}tr.hide[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:0;padding:0 .5rem}.roundedEle[_ngcontent-%COMP%]{background:#363b40;margin:0 10px;border-radius:50%;box-sizing:content-box;width:30px;height:30px;line-height:0;display:flex;align-items:center;justify-content:center;font-size:.7em;cursor:pointer}.rowItem[_ngcontent-%COMP%]{padding:10px 0;margin:10px 0;border-bottom:1px dashed #f5e5e5}.roundedEle.active[_ngcontent-%COMP%]{color:#fff;background:transparent linear-gradient(256deg,#e53161 0%,#f68f3b 100%) 0% 0% no-repeat padding-box}button.c-action-btn[_ngcontent-%COMP%]{display:flex;background:transparent linear-gradient(97deg,#a31193 0%,#23295a 100%) 0% 0% no-repeat padding-box;border:none;border-radius:25px;padding:5px 15px;color:#fff;justify-content:center;align-items:center;gap:10px;width:100px}.content_space[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]  .p-dialog .playerPersonal .p-dialog-header-icon span{color:#000}[_nghost-%COMP%]  .cdk-virtual-scroll-spacer{height:0px!important}[_nghost-%COMP%]  .p-dialog .p-dialog-content{border-bottom-right-radius:10px;border-bottom-left-radius:10px;background:#1e1450!important;color:#fff}[_nghost-%COMP%]  .p-dialog .p-dialog-header{padding:.5rem!important;border-top-right-radius:10px;border-top-left-radius:10px;background:#1e1450!important;color:#fff}"]}),n})();const w=function(n){return{width:n}};function ce(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"p",12)(3,"small"),e._uU(4,"Credit"),e.qZA()(),e.TgZ(5,"p",12)(6,"strong"),e._uU(7),e.qZA()(),e.TgZ(8,"div",13),e._UZ(9,"div",14),e.qZA()(),e.TgZ(10,"div",15),e._UZ(11,"img",16),e.TgZ(12,"strong"),e._uU(13),e.qZA(),e.TgZ(14,"div",17),e._uU(15),e.qZA()(),e.TgZ(16,"div",3),e._UZ(17,"img",18),e.qZA(),e.TgZ(18,"div",15),e._UZ(19,"img",16),e.TgZ(20,"strong"),e._uU(21),e.qZA(),e.TgZ(22,"div",17),e._uU(23),e.qZA()(),e.TgZ(24,"div",19)(25,"p",12)(26,"small"),e._uU(27,"Players"),e.qZA()(),e.TgZ(28,"p",12)(29,"strong"),e._uU(30),e.qZA()(),e.TgZ(31,"div",13),e._UZ(32,"div",14),e.qZA()()()),2&n){const t=e.oxw();e.xp6(7),e.hij("",t.creditAmount,"/100"),e.xp6(2),e.Q6J("ngStyle",e.VKq(10,w,t.creditAmountPercent+"%")),e.xp6(2),e.Q6J("src",t.photoURL(null==t.currentfixture||null==t.currentfixture.Teams[0]?null:t.currentfixture.Teams[0].logo),e.LSH),e.xp6(2),e.Oqu(null==t.currentfixture||null==t.currentfixture.Teams[0]?null:t.currentfixture.Teams[0].team_sn),e.xp6(2),e.hij(" ",t.team1Count||0," "),e.xp6(4),e.Q6J("src",t.photoURL(null==t.currentfixture||null==t.currentfixture.Teams[1]?null:t.currentfixture.Teams[1].logo),e.LSH),e.xp6(2),e.Oqu(null==t.currentfixture||null==t.currentfixture.Teams[1]?null:t.currentfixture.Teams[1].team_sn),e.xp6(2),e.hij(" ",t.team2Count||0," "),e.xp6(7),e.hij("",t.selectedPlayerCount||0,"/11"),e.xp6(2),e.Q6J("ngStyle",e.VKq(12,w,t.selectedPlayerPercent+"%"))}}function de(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"create-team-selection-football",20),e.NdJ("previewTeam",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.teamPreview(a))})("creditLimitUpdate",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.creditUpdate(a))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("teamSquads",t.teamSquads)("Series_ID",t.Series_ID)("Type",t.type)}}const pe=[{path:"",component:F,children:[{path:"create/:id",component:(()=>{class n{constructor(t,i,a,s,r,l,d,h){this.route=t,this.sanitizer=i,this.challengesFootballService=a,this.sharedDataService=s,this.userService=r,this.router=l,this.footer=d,this.footerpad=h,this.enableSelection=!1,this.creditAmount=100,this.creditAmountPercent=0,this.team1Count=0,this.team2Count=0,this.sanitizer=i,this.route&&this.route.params.subscribe(p=>{this.fixtureId="number"!=typeof parseFloat(p.id)||isNaN(p.id)?null:p.id})}onPageLoad(){this.goBackPage()}goBackPage(){this.router.navigateByUrl(`/football/my-teams/${this.fixtureId}`)}ngOnInit(){var t;this.footer.footerHide=!1,this.footerpad.showFoot=!0,this.getAllFixtureInfo(),this.previewTeamName=this.userService.user.team_name,this.fixtureData=null===(t=this.challengesFootballService.savedContestData)||void 0===t?void 0:t.fixtureData,this.fixtureStatus=this.fixtureData?this.fixtureData.fixture_status:2}ngOnDestroy(){this.footer.footerHide=!0,this.footerpad.showFoot=!1}getAllFixtureInfo(){this.challengesFootballService.getFixturesWithTeam().subscribe(t=>{var i,a,s,r,l,d,h,p;if(t&&g.size(t)){this.currentfixture=t.data.data.filter(b=>b.id==this.fixtureId)[0];const u=JSON.parse(sessionStorage.getItem("data"));this.Series_ID=null!==(i=this.currentfixture)&&void 0!==i&&i.Series_ID?null===(a=this.currentfixture)||void 0===a?void 0:a.Series_ID:u.Series_ID,this.team1ShortName=null!==(s=this.currentfixture)&&void 0!==s&&s.Teams?this.currentfixture.Teams[0].team_sn:u.Teams[0].team_sn,this.team2ShortName=null!==(r=this.currentfixture)&&void 0!==r&&r.Teams?this.currentfixture.Teams[1].team_sn:u.Teams[1].team_sn,this.teamSquads=(null!==(l=this.currentfixture)&&void 0!==l&&l.Teams?null===(d=this.currentfixture)||void 0===d?void 0:d.Teams:u.Teams).flatMap(b=>b.id).toString(),this.type=null!==(h=this.currentfixture)&&void 0!==h&&h.Type?null===(p=this.currentfixture)||void 0===p?void 0:p.Type:u.Type,this.enableSelection=!0}},t=>{})}getFixtureInfo(){this.challengesFootballService.getFixtureData(this.fixtureId).subscribe(t=>{t&&g.size(t)&&(this.fixtureData=t.data[0])},t=>{})}creditUpdate(t){t&&(this.creditAmount=t.credit,this.creditAmountPercent=100-t.credit,this.selectedPlayerCount=t.teamCount,this.selectedPlayerPercent=t.teamCount/11*100,this.team1Count=t.team1||0,this.team2Count=t.team2||0)}photoURL(t){return this.sanitizer.bypassSecurityTrustUrl(t)}teamPreview(t){t&&(this.team11Preview=null,this.team11Preview=t.team11,this.captainId=t.captainId,this.viceCaptainId=t.viceCaptainId)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz),e.Y36(U.H7),e.Y36(v.I),e.Y36(P.g),e.Y36(O.e),e.Y36(m.F0),e.Y36(q.L),e.Y36(N.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-team-football"]],hostBindings:function(t,i){1&t&&e.NdJ("load",function(s){return i.onPageLoad(s)},!1,e.Jf7)},decls:11,vars:14,consts:[[1,"create-team-wrapper"],[1,"w-50","player-selection"],[1,"match-detail-header"],[1,"d-flex","justify-content-center","align-items-center"],[1,"max"],["class","text-white d-flex justify-content-evenly align-items-center",4,"ngIf"],[1,"match-detail-content"],[4,"ngIf"],[1,"w-50","player-preview",2,"position","relative"],[3,"fixtureStatus","captain","viceCaptain","playerRight","team1ShortName","team2ShortName","team1Count","team2Count","creditAmount","previewTeamName","previewTeamNumber","fromteamcreate"],[1,"text-white","d-flex","justify-content-evenly","align-items-center"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[1,"m-0"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped",3,"ngStyle"],[1,"d-flex","justify-content-center","align-items-center",2,"gap","5px"],["width","40",3,"src"],[1,"teamCount"],["src","/assets/images/VS.svg","alt",""],[1,"d-flex","justify-content-center","align-items-center","flex-column",2,"gap","2px"],[3,"teamSquads","Series_ID","Type","previewTeam","creditLimitUpdate"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"You can select only 7 players from a team"),e.qZA()(),e.YNc(6,ce,33,14,"div",5),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,de,2,3,"ng-container",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"create-team-preview-football",9),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngIf",i.enableSelection),e.xp6(2),e.Q6J("ngIf",i.enableSelection),e.xp6(2),e.Q6J("fixtureStatus",i.fixtureStatus)("captain",i.captainId)("viceCaptain",i.viceCaptainId)("playerRight",i.team11Preview)("team1ShortName",i.team1ShortName)("team2ShortName",i.team2ShortName)("team1Count",i.team1Count)("team2Count",i.team2Count)("creditAmount",i.creditAmount)("previewTeamName",i.previewTeamName)("previewTeamNumber",i.previewTeamNumber)("fromteamcreate",!0))},dependencies:[_.O5,_.PC,E.M,oe],styles:[".player-selection[_ngcontent-%COMP%]{background-color:#fff;height:100%}[_nghost-%COMP%] {height:100vh;display:flex;align-items:center;justify-content:center}.create-team-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;width:100%;justify-content:center;align-items:center}.player-preview[_ngcontent-%COMP%]{height:100%;background:url(/assets/images/footballGround.png) repeat padding-box;background-size:100% 100%;background-repeat:no-repeat}.match-detail-header[_ngcontent-%COMP%]{background:transparent linear-gradient(256deg,#e53161 0%,#f68f3b 100%) 0% 0% no-repeat padding-box;opacity:1;padding:10px 0}.max[_ngcontent-%COMP%]{background:#0000005c 0% 0% no-repeat padding-box;border-radius:6px;text-align:left;letter-spacing:0px;color:#fff;padding:5px 10px;font-size:.7em;line-height:initial}.teamCount[_ngcontent-%COMP%]{width:24px;height:24px;background:#0000005c 0% 0% no-repeat padding-box;border-radius:6px;text-align:center;font-size:.7em;line-height:24px}.progress[_ngcontent-%COMP%]{background-color:#f7ae92;height:.3rem;width:100%}.progress-bar[_ngcontent-%COMP%]{background:#ffffff}"]}),n})()},{path:":id",redirectTo:"create/:id",pathMatch:"full"},{path:"**",component:F}]}];let he=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(pe),m.Bz]}),n})();var ue=c(5171);let me=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.ez,he,M.v,D.q,C.Cl,S.hJ,Z.T,I.S,y.kb,ue.R]}),n})()}}]);