(this["webpackJsonpsciflare-fantasy-react-admin"]=this["webpackJsonpsciflare-fantasy-react-admin"]||[]).push([[147],{1557:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(1),o=n(464),c=[{name:"Name",minWidth:"100px",selector:"ref_from_user_full_name",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.ref_from_user_full_name}},{name:"Refer from",minWidth:"100px",selector:"ref_from",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.ref_from}},{name:"Refer to",minWidth:"100px",selector:"ref_to",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.ref_to}},{name:"Status",minWidth:"100px",selector:"ref_status",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.ref_status}},{name:"Refer prize bonus",minWidth:"100px",selector:"ref_prize_bonus",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.ref_prize_bonus}}],s=n(546),i=n(122),l=(n(477),n(462),n(467)),u=n.n(l),d=n(485),f=n(478),p=n.n(f),m=n(491),b=n(502),h=n(500),g=n(472),_=n(471),j=n(484),v=n(473),O=n(544),x=n(6),L=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.users})),n=Object(O.i)(),l=Object(r.useState)(1),f=Object(a.a)(l,2),L=f[0],C=f[1],S=Object(r.useState)(10),E=Object(a.a)(S,2),y=E[0],w=E[1],T=Object(r.useState)(""),N=Object(a.a)(T,2),R=N[0],k=N[1],A=Object(r.useState)([]),I=Object(a.a)(A,2),G=I[0],U=I[1];Object(r.useEffect)((function(){e(Object(s.d)(n.id))}),[]);return t.loadAllUsers?Object(x.jsx)("div",{className:"position-absolute d-flex justify-content-center align-items-center w-100 position-top-0 position-bottom-0 position-left-0 position-right-0 h-100",children:Object(x.jsx)(o.a,{blocking:!0})}):Object(x.jsx)(r.Fragment,{children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(b.a,{className:"border-bottom",children:Object(x.jsx)(h.a,{tag:"h4",children:"Referrals"})}),Object(x.jsxs)(g.a,{className:"mx-0 mt-1 mb-50",children:[Object(x.jsx)(_.a,{sm:"6",children:Object(x.jsxs)("div",{className:"d-flex align-items-center",children:[Object(x.jsx)(j.a,{for:"sort-select",children:"Show"}),Object(x.jsxs)(v.a,{className:"dataTable-select",type:"select",id:"sort-select",value:y,onChange:function(e){return function(e){w(parseInt(e.target.value))}(e)},children:[Object(x.jsx)("option",{value:10,children:"10"}),Object(x.jsx)("option",{value:50,children:"50"}),Object(x.jsx)("option",{value:100,children:"100"})]}),Object(x.jsx)(j.a,{for:"sort-select",children:"Entries"})]})}),Object(x.jsxs)(_.a,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"6",children:[Object(x.jsx)(j.a,{className:"mr-1",for:"search-input",children:"Search"}),Object(x.jsx)(v.a,{className:"dataTable-filter",type:"text",bsSize:"sm",id:"search-input",value:R,onChange:function(e){var n=e.target.value,a=[];k(n),n.length&&(a=t.referrals.filter((function(e){var t=e.amount.toString().toLowerCase().startsWith(n.toLowerCase())||e.balance.toString().toLowerCase().startsWith(n.toLowerCase())||e.debit_credit.toLowerCase().startsWith(n.toLowerCase())||e.transaction_time.toLowerCase().startsWith(n.toLowerCase())||e.transaction_type.toLowerCase().startsWith(n.toLowerCase())||e.txn_id.toLowerCase().startsWith(n.toLowerCase()),a=e.amount.toString().toLowerCase().includes(n.toLowerCase())||e.balance.toString().toLowerCase().includes(n.toLowerCase())||e.debit_credit.toLowerCase().includes(n.toLowerCase())||e.transaction_time.toLowerCase().includes(n.toLowerCase())||e.transaction_type.toLowerCase().includes(n.toLowerCase())||e.txn_id.toLowerCase().includes(n.toLowerCase());return t||(!t&&a?a:null)})),U(a))}})]})]}),Object(x.jsx)(p.a,{noHeader:!0,pagination:!0,paginationServer:!0,className:"react-dataTable",columns:c,sortIcon:Object(x.jsx)(d.a,{size:10}),paginationComponent:function(){var e=R.length?G.length/y:t.referrals.length/y||1;return Object(x.jsx)(u.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:e,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:0!==L?L-1:0,onPageChange:function(e){return function(e){C(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:t.referrals.length>0?R.length?G:t.referrals.slice(0,y):[]})]})})},C=Object(r.memo)(L);n(461),t.default=function(){return Object(x.jsx)("div",{className:"app-user-list",children:Object(x.jsx)(C,{})})}},457:function(e,t,n){"use strict";var a=n(0),r=n(83),o=n.n(r),c=localStorage.getItem("TOKEN"),s=o.a.create({baseURL:"https://fantasyapi.sciflaredev.com/admin/api",headers:{"Content-type":"application/json",Authorization:c}});s.interceptors.request.use((function(e){var t=localStorage.getItem("TOKEN");return Object(a.a)(Object(a.a)({},e),{},{headers:{"Content-type":"application/json",Authorization:"".concat(t)}})})),t.a=s},461:function(e,t,n){},462:function(e,t,n){},464:function(e,t,n){"use strict";var a=n(0),r=n(31),o=n(1),c=n(57),s=n.n(c),i=n(486),l=(n(465),n(6)),u=function(e){var t,n=e.children,c=e.blocking,i=e.loader,u=e.className,d=e.tag,f=e.overlayColor,p=d;return Object(l.jsxs)(p,{className:s()("ui-loader",(t={},Object(r.a)(t,u,u),Object(r.a)(t,"show",c),t)),children:[n,c?Object(l.jsxs)(o.Fragment,{children:[Object(l.jsx)("div",Object(a.a)({className:"overlay"},c&&f?{style:{backgroundColor:f}}:{})),Object(l.jsx)("div",{className:"loader",children:i})]}):null]})};t.a=u,u.defaultProps={tag:"div",blocking:!1,loader:Object(l.jsx)(i.a,{color:"primary"})}},465:function(e,t,n){},546:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"m",(function(){return j}));var a=n(458),r=n(459),o=n.n(r),c=n(457),s=function(){return{type:"CLEAR_DATA"}},i=function(e){return console.log(e),function(t){t({type:"FETCH_PAGE",data:e})}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=Object(a.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"GET_ALL_USERS_INIT"}),n.next=3,c.a.get("/user_details/user_list?page=".concat(e,"&limit=").concat(t)).then((function(e){a({type:"GET_ALL_USERS",data:e.data.data})})).catch((function(){a({type:"GET_ALL_USERS_FAIL"})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},u=function(){return Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("/user_details/export_user_data_csv",{responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","file.csv"),document.body.appendChild(n),n.click()}));case 2:case"end":return e.stop()}}),e)})))},d=function(e){return function(){var t=Object(a.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,Promise.allSettled([c.a.put("/user_details/summary/".concat(e)),c.a.put("/user_details/user_view/".concat(e))]);case 4:a=t.sent,r=a.map((function(e){var t,n;return null===e||void 0===e||null===(t=e.value)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data})),n({type:"GET_USER_DETAILS",data:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Some error for us : ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(a.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.put(e).then((function(e){n({type:"GET_TYPE_LIST",data:e.data.data})}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Some error for us : ",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return{type:"RESET_USER_PROFILE"}},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a({type:"GET_ALL_USERS_INIT"}),c.a.put("/user_details/user_transactions/".concat(e,"?page=").concat(t,"&limit=").concat(n)).then((function(e){a({type:"GET_TRANSACTION",data:e.data.data}),console.log(e)})).catch((function(e){console.log(e)}))}},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a({type:"GET_ALL_USERS_INIT"}),c.a.put("/user_details/user_fixtures_list/".concat(e,"?page=").concat(t,"&limit=").concat(n)).then((function(e){a({type:"GET_MATCHES",data:e.data.data}),console.log(e.data.data)})).catch((function(e){console.log(e)}))}},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a({type:"GET_ALL_USERS_INIT"}),c.a.put("/user_details/user_contests_list/".concat(e,"?page=").concat(t,"&limit=").concat(n)).then((function(e){a({type:"GET_CONTESTS",data:e.data.data}),console.log(e.data.data)})).catch((function(e){console.log(e)}))}},g=function(e,t,n){return function(a){a({type:"GET_ALL_USERS_INIT"}),c.a.put("/user_details/user_prize_redeemed/".concat(e,"?page=").concat(t,"&limit=").concat(n)).then((function(e){a({type:"GET_PRIZE",data:e.data.data}),console.log(e.data.data)})).catch((function(e){console.log(e)}))}},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a({type:"GET_ALL_USERS_INIT"}),c.a.put("/user_details/user_referrals/".concat(e,"?page=").concat(t,"&limit=").concat(n)).then((function(e){a({type:"GET_REFERRRAL",data:e.data.data.records}),console.log(e.data.data.records)})).catch((function(e){console.log(e)}))}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return console.log(a),function(o){c.a.get("/user_details/user_list?full_name=".concat(e,"&mobile=").concat(t,"&email=").concat(n,"&page=").concat(a,"&limit=").concat(r)).then((function(e){return o({type:"SEARCH_USERS",data:e.data.data})})).catch((function(e){console.log(e)}))}}}}]);
//# sourceMappingURL=147.10c98e76.chunk.js.map