(this["webpackJsonpsciflare-fantasy-react-admin"]=this["webpackJsonpsciflare-fantasy-react-admin"]||[]).push([[156],{1585:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n(1),o=n(459),c=n(509),i=n(120),s=(n(476),n(456),n(457)),l=n(462),u=n.n(l),d=n(486),b=n(478),m=n.n(b),p=n(482),f=n(468),j=n(467),v=n(464),h=n(465),g=n(483),O=n(466),x=n(507),_=n(6),C=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.users})),n=Object(x.i)(),l=Object(r.useState)(1),b=Object(a.a)(l,2),C=b[0],L=b[1],y=Object(r.useState)(10),w=Object(a.a)(y,2),S=w[0],T=w[1],E=Object(r.useState)(""),N=Object(a.a)(E,2),k=N[0],A=N[1],I=Object(r.useState)([]),R=Object(a.a)(I,2),G=R[0],U=R[1];Object(r.useEffect)((function(){e(Object(c.e)(n.id,C))}),[C]);console.log(t.transactions.data);if(t.loadAllUsers)return Object(_.jsx)("div",{className:"position-absolute d-flex justify-content-center align-items-center w-100 position-top-0 position-bottom-0 position-left-0 position-right-0 h-100",children:Object(_.jsx)(o.a,{blocking:!0})});console.log(t);var P=[{name:"Sno",minWidth:"10px",selector:"s_no",sortable:!0,cell:function(e,n){return"#".concat(t.transactions.from+n)}},{name:"Date",minWidth:"100px",selector:"transaction_time",sortable:!0,cell:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e?new Intl.DateTimeFormat("en-GB",t).format(new Date(e)):e}(null===e||void 0===e?void 0:e.transaction_time)}},{name:"Tax Id",minWidth:"100px",selector:"txn_id",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.txn_id}},{name:"Method",minWidth:"100px",selector:"debit_credit",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.debit_credit}},{name:"Type",minWidth:"100px",selector:"transaction_type",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.transaction_type}},{name:"Amount",minWidth:"100px",selector:"amount",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.amount}},{name:"Balance",minWidth:"100px",selector:"balance",sortable:!0,cell:function(e){return null===e||void 0===e?void 0:e.balance}}];return Object(_.jsxs)(r.Fragment,{children:[Object(_.jsx)(s.a,{breadCrumbTitle:"Manage Users",breadCrumbParent:"users",breadCrumbActive:"transactions"}),Object(_.jsxs)(p.a,{children:[Object(_.jsx)(f.a,{className:"border-bottom",children:Object(_.jsx)(j.a,{tag:"h4",children:"Transactions"})}),Object(_.jsxs)(v.a,{className:"mx-0 mt-1 mb-50",children:[Object(_.jsx)(h.a,{sm:"6",children:Object(_.jsxs)("div",{className:"d-flex align-items-center",children:[Object(_.jsx)(g.a,{for:"sort-select",children:"show"}),Object(_.jsxs)(O.a,{className:"dataTable-select",type:"select",id:"sort-select",value:S,onChange:function(e){return function(e){T(parseInt(e.target.value))}(e)},children:[Object(_.jsx)("option",{value:10,children:"10"}),Object(_.jsx)("option",{value:50,children:"50"}),Object(_.jsx)("option",{value:100,children:"100"})]}),Object(_.jsx)(g.a,{for:"sort-select",children:"entries"})]})}),Object(_.jsxs)(h.a,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"6",children:[Object(_.jsx)(g.a,{className:"mr-1",for:"search-input",children:"Search"}),Object(_.jsx)(O.a,{className:"dataTable-filter",type:"text",bsSize:"sm",id:"search-input",value:k,onChange:function(e){var n=e.target.value,a=[];A(n),n.length&&(a=t.transactions.data.filter((function(e){var t,a,r,o,c,i,s,l,u,d;console.log(e);var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e?new Intl.DateTimeFormat("en-GB",t).format(new Date(e)):e}(e.transaction_time),m=(null===(t=e.amount)||void 0===t?void 0:t.toString().toLowerCase().startsWith(n.toLowerCase()))||(null===(a=e.balance)||void 0===a?void 0:a.toString().toLowerCase().startsWith(n.toLowerCase()))||(null===(r=e.debit_credit)||void 0===r?void 0:r.toLowerCase().startsWith(n.toLowerCase()))||(null===b||void 0===b?void 0:b.toString().toLowerCase().startsWith(n.toLowerCase()))||(null===(o=e.transaction_type)||void 0===o?void 0:o.toLowerCase().startsWith(n.toLowerCase()))||(null===(c=e.txn_id.toLowerCase())||void 0===c?void 0:c.startsWith(n.toLowerCase())),p=(null===(i=e.amount)||void 0===i?void 0:i.toString().toLowerCase().includes(n.toLowerCase()))||(null===(s=e.balance)||void 0===s?void 0:s.toString().toLowerCase().includes(n.toLowerCase()))||(null===(l=e.debit_credit)||void 0===l?void 0:l.toLowerCase().includes(n.toLowerCase()))||(null===b||void 0===b?void 0:b.toString().toLowerCase().includes(n.toLowerCase()))||(null===(u=e.transaction_type)||void 0===u?void 0:u.toLowerCase().includes(n.toLowerCase()))||(null===(d=e.txn_id)||void 0===d?void 0:d.toLowerCase().includes(n.toLowerCase()));return m||(!m&&p?p:null)})),U(a))}})]})]}),Object(_.jsx)(m.a,{noHeader:!0,pagination:!0,paginationServer:!0,className:"react-dataTable",columns:P,sortIcon:Object(_.jsx)(d.a,{size:10}),paginationComponent:function(){var e=t.transactions.last_page;return Object(_.jsx)(u.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:e,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:0!==C?C-1:0,onPageChange:function(e){return function(e){L(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:function(){var e,n;return(null===(e=t.transactions.data)||void 0===e?void 0:e.length)>0?k.length?G:null===(n=t.transactions.data)||void 0===n?void 0:n.slice(0,S):[]}()})]})]})},L=Object(r.memo)(C);n(455),t.default=function(){return Object(_.jsx)("div",{className:"app-user-list",children:Object(_.jsx)(L,{})})}},451:function(e,t,n){"use strict";var a=n(0),r=n(80),o=n.n(r),c=localStorage.getItem("TOKEN"),i=o.a.create({baseURL:"https://fantasyapi.sciflaredev.com/admin/api",headers:{"Content-type":"application/json",Authorization:c}});i.interceptors.request.use((function(e){var t=localStorage.getItem("TOKEN");return Object(a.a)(Object(a.a)({},e),{},{headers:{"Content-type":"application/json",Authorization:"".concat(t)}})})),t.a=i},455:function(e,t,n){},456:function(e,t,n){},457:function(e,t,n){"use strict";var a=n(458),r=n(480),o=n(481),c=n(6);t.a=function(e){var t=e.breadCrumbTitle,n=e.breadCrumbParent,i=e.breadCrumbParent2,s=e.breadCrumbParent3,l=e.breadCrumbActive;return Object(c.jsx)("div",{className:"content-header row",children:Object(c.jsx)("div",{className:"content-header-left col-md-9 col-12 mb-2",children:Object(c.jsx)("div",{className:"row breadcrumbs-top",children:Object(c.jsxs)("div",{className:"col-12",children:[t?Object(c.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(c.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(c.jsxs)(r.a,{children:[Object(c.jsx)(o.a,{tag:"li",children:Object(c.jsx)(a.b,{to:"/",children:"Home"})}),n?Object(c.jsx)(o.a,{tag:"li",className:"text-primary",children:Object(c.jsx)(a.b,{to:"/".concat(n),children:n})}):"",i?Object(c.jsx)(o.a,{tag:"li",className:"text-primary",children:i}):"",s?Object(c.jsx)(o.a,{tag:"li",className:"text-primary",children:s}):"",Object(c.jsx)(o.a,{tag:"li",active:!0,children:l})]})})]})})})})}},459:function(e,t,n){"use strict";var a=n(0),r=n(30),o=n(1),c=n(119),i=n.n(c),s=n(485),l=(n(460),n(6)),u=function(e){var t,n=e.children,c=e.blocking,s=e.loader,u=e.className,d=e.tag,b=e.overlayColor,m=d;return Object(l.jsxs)(m,{className:i()("ui-loader",(t={},Object(r.a)(t,u,u),Object(r.a)(t,"show",c),t)),children:[n,c?Object(l.jsxs)(o.Fragment,{children:[Object(l.jsx)("div",Object(a.a)({className:"overlay"},c&&b?{style:{backgroundColor:b}}:{})),Object(l.jsx)("div",{className:"loader",children:s})]}):null]})};t.a=u,u.defaultProps={tag:"div",blocking:!1,loader:Object(l.jsx)(s.a,{color:"primary"})}},460:function(e,t,n){},509:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return v})),n.d(t,"m",(function(){return h}));var a=n(452),r=n(453),o=n(451),c=function(){return{type:"CLEAR_DATA"}},i=function(e){return console.log(e),function(t){t({type:"FETCH_PAGE",data:e})}},s=function(e){return function(){var t=Object(r.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_ALL_USERS_INIT"}),t.next=3,o.a.get("/user_details/user_list?page=".concat(e)).then((function(e){n({type:"GET_ALL_USERS",data:e.data.data})})).catch((function(){n({type:"GET_ALL_USERS_FAIL"})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(){return Object(r.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/user_details/export_user_data_csv",{responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","file.csv"),document.body.appendChild(n),n.click()}));case 2:case"end":return e.stop()}}),e)})))},u=function(e){return function(){var t=Object(r.a)(Object(a.a)().mark((function t(n){var r,c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,Promise.allSettled([o.a.put("/user_details/summary/".concat(e)),o.a.put("/user_details/user_view/".concat(e))]);case 4:r=t.sent,c=r.map((function(e){var t,n;return null===e||void 0===e||null===(t=e.value)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data})),n({type:"GET_USER_DETAILS",data:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Some error for us : ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.put(e).then((function(e){n({type:"GET_TYPE_LIST",data:e.data.data})}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Some error for us : ",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},b=function(){return{type:"RESET_USER_PROFILE"}},m=function(e,t){return function(n){n({type:"GET_ALL_USERS_INIT"}),o.a.put("/user_details/user_transactions/".concat(e,"?page=").concat(t)).then((function(e){n({type:"GET_TRANSACTION",data:e.data.data}),console.log(e)})).catch((function(e){console.log(e)}))}},p=function(e,t){return function(n){n({type:"GET_ALL_USERS_INIT"}),o.a.put("/user_details/user_fixtures_list/".concat(e,"?page=").concat(t)).then((function(e){n({type:"GET_MATCHES",data:e.data.data}),console.log(e.data.data)})).catch((function(e){console.log(e)}))}},f=function(e,t){return function(n){n({type:"GET_ALL_USERS_INIT"}),o.a.put("/user_details/user_contests_list/".concat(e,"?page=").concat(t)).then((function(e){n({type:"GET_CONTESTS",data:e.data.data}),console.log(e.data.data)})).catch((function(e){console.log(e)}))}},j=function(e,t){return function(n){n({type:"GET_ALL_USERS_INIT"}),o.a.put("/user_details/user_prize_redeemed/".concat(e,"?page=").concat(t)).then((function(e){n({type:"GET_PRIZE",data:e.data.data}),console.log(e.data.data)})).catch((function(e){console.log(e)}))}},v=function(e,t){return function(n){n({type:"GET_ALL_USERS_INIT"}),o.a.put("/user_details/user_referrals/".concat(e,"?page=").concat(t)).then((function(e){n({type:"GET_REFERRRAL",data:e.data.data.records}),console.log(e.data.data.records)})).catch((function(e){console.log(e)}))}},h=function(e,t,n,a){return console.log(a),function(r){o.a.get("/user_details/user_list?full_name=".concat(e,"&mobile=").concat(t,"&email=").concat(n,"&page=").concat(a)).then((function(e){return r({type:"SEARCH_USERS",data:e.data.data})})).catch((function(e){console.log(e)}))}}}}]);
//# sourceMappingURL=156.8559126f.chunk.js.map