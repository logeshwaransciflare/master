(this["webpackJsonpsciflare-fantasy-react-admin"]=this["webpackJsonpsciflare-fantasy-react-admin"]||[]).push([[87],{1405:function(e,t,a){},1406:function(e,t,a){},1589:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(17),s=a(479),r=a(120),o=a(482),i=a(468),l=a(467),d=a(469),u=a(464),j=a(465),b=a(484),f=a(787),O=a(483),m=a(445),h=a(499),p=a.n(h),x=a(510),g=a(459),v=a(477),N=a(470),y=a(620),_=a(765),E=a(962),w=a(959),P=a.n(w),S=(a(960),a(461),a(625),a(619)),A=a(454),T=a(457),C=(a(1405),a(6)),D=function(){var e=Object(s.c)(),t=e.handleSubmit,a=e.reset,h=Object(r.b)(),w=Object(r.c)((function(e){return e.feeds})),D=Object(c.useState)(""),F=Object(n.a)(D,2),L=F[0],I=F[1],k=Object(c.useState)(!1),z=Object(n.a)(k,2),W=z[0],B=z[1],R=Object(c.useState)(""),G=Object(n.a)(R,2),U=G[0],H=G[1],J=Object(c.useState)({value:"",label:"Select Category"}),K=Object(n.a)(J,2),M=K[0],q=K[1],V=Object(c.useState)((function(){return y.EditorState.createEmpty("")})),Q=Object(n.a)(V,2),X=Q[0],Y=Q[1];Object(c.useEffect)((function(){}),[X]);var Z=Object(c.useState)(null),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=function(e){return{__html:P.a.sanitize(e)}},ce=Object(c.useState)((function(){return y.EditorState.createEmpty()})),ne=Object(n.a)(ce,2),se=ne[0],re=ne[1];Object(c.useEffect)((function(){}),[se]);var oe=Object(c.useState)(null),ie=Object(n.a)(oe,2),le=ie[0],de=ie[1];Object(c.useEffect)((function(){return function(){h(Object(S.c)())}}),[]),Object(c.useEffect)((function(){w.addSuccessData&&(a(),H({editor:null===U||void 0===U?void 0:U.editor}),console.log(U),I(""),Y(""),setTimeout((function(){h(Object(S.c)())}),3e3))}),[w.addSuccessData]);var ue=new p.a({meta:{type:"avatar"},autoProceed:!0,restrictions:{maxNumberOfFiles:1,allowedFileTypes:["image/*"]}});ue.on("file-added",(function(e){var t=new FileReader;t.readAsDataURL(e.data),t.onloadend=function(){var e=t.result;I(e)}}));var je=ae(ee).__html,be=je.length<20?null:je,fe=ae(le).__html,Oe=fe.length<20?null:fe,me=function(e){if(L){console.log(e);var t={feed_type:"Post",feed_content:be,feed_image:L,arabic_feed_content:Oe};console.log(e.post_content),console.log(L),console.log(t.feed_image),null===t.feed_content||""===t.feed_image?Object(A.f)():h(Object(S.b)(t)),te("")}};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T.a,{breadCrumbTitle:"Walls",breadCrumbParent:"Walls",breadCrumbActive:"Add"}),Object(C.jsxs)(o.a,{children:[Object(C.jsx)(i.a,{children:Object(C.jsx)(l.a,{tag:"h4",children:"Add Post"})}),Object(C.jsx)(d.a,{children:Object(C.jsx)(u.a,{className:"wrapper-add-post",children:Object(C.jsx)(j.a,{className:"add-post-edit",children:Object(C.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),w.addPostLoader||(B(!L),t(me)())},children:[Object(C.jsx)("div",{className:"form-label-group add-feed-textarea",children:Object(C.jsxs)(f.a,{children:[Object(C.jsx)(O.a,{for:"nameVertical",children:"Feed Type"}),Object(C.jsx)(v.a,{isClearable:!1,theme:N.f,className:"react-select",classNamePrefix:"select",options:[{value:"",label:"Select Category"},{value:"Post",label:"Post"},{value:"Announcement",label:"Announcement"},{value:"Offers",label:"Offers"},{value:"Stats",label:"Stats"},{value:"Merchandise",label:"Merchandise"},{value:"Countdown",label:"Countdown"},{value:"Polls",label:"Polls"},{value:"Winner Announcement",label:"Winner Announcement"}],value:M,onChange:function(e){q(e)}}),Object(C.jsx)("br",{}),Object(C.jsx)(O.a,{className:"form-label",for:"post_content",children:Object(C.jsx)("h3",{children:"Post Content English"})}),Object(C.jsx)(_.Editor,{editorState:X,onEditorStateChange:function(e){Y(e),function(e){var t=Object(E.a)(e.getCurrentContent());te(t)}(e)},wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class"}),Object(C.jsx)("br",{}),Object(C.jsx)(O.a,{className:"form-label",for:"post_content",children:Object(C.jsx)("h3",{children:"Post Content Arabic"})}),Object(C.jsx)(_.Editor,{editorState:se,onEditorStateChange:function(e){re(e),function(e){var t=Object(E.a)(e.getCurrentContent());de(t)}(e)},wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class"})]})}),Object(C.jsxs)("div",{className:"mt-4 ".concat(W?"img-error-post":""),children:[Object(C.jsx)(x.a,{uppy:ue,locale:{strings:{dropHereOr:"Drop Image or %{browse}",browse:"browse"}}}),L&&Object(C.jsx)("div",{className:"uploaded-files",children:Object(C.jsx)("img",{src:L,className:"post-preview"})})]}),Object(C.jsx)(f.a,{className:"mt-3",children:Object(C.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(C.jsx)(m.a.Ripple,{type:"submit",color:"primary",disabled:w.addPostLoader,className:"btn-next",children:Object(C.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:"Add Post"})}),w.addPostLoader&&Object(C.jsx)("div",{className:"ml-2 mt-2",children:Object(C.jsx)(g.a,{blocking:!0})}),w.addSuccessData&&Object(C.jsx)("p",{className:"ml-2 pt-1 mb-0 success-msg",children:"Post Added Successfull"})]})})]})})})})]})]})};a(500),a(497),a(1406),t.default=function(){return Object(C.jsx)(c.Fragment,{children:Object(C.jsx)(D,{})})}},451:function(e,t,a){"use strict";var c=a(0),n=a(80),s=a.n(n),r=localStorage.getItem("TOKEN"),o=s.a.create({baseURL:"https://fantasyapi.sciflaredev.com/admin/api",headers:{"Content-type":"application/json",Authorization:r}});o.interceptors.request.use((function(e){var t=localStorage.getItem("TOKEN");return Object(c.a)(Object(c.a)({},e),{},{headers:{"Content-type":"application/json",Authorization:"".concat(t)}})})),t.a=o},454:function(e,t,a){"use strict";a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return h})),a.d(t,"d",(function(){return p})),a.d(t,"c",(function(){return x})),a.d(t,"a",(function(){return g})),a.d(t,"f",(function(){return v}));var c=a(1),n=a(121),s=a(463),r=(a(471),a(472)),o=a(786),i=a(474),l=(a(475),a(482),a(468),a(467),a(469),a(445),a(6)),d=function(e){var t=e.message;return Object(l.jsx)(c.Fragment,{children:Object(l.jsx)("div",{className:"toastify-header",children:Object(l.jsxs)("div",{className:"title-wrapper",children:[Object(l.jsx)(s.a,{size:"sm",color:"success",icon:Object(l.jsx)(r.a,{size:12})}),Object(l.jsx)("h6",{className:"toast-title",children:t})]})})})},u=function(e){var t=e.message;return Object(l.jsx)(c.Fragment,{children:Object(l.jsx)("div",{className:"toastify-header",children:Object(l.jsxs)("div",{className:"title-wrapper",children:[Object(l.jsx)(s.a,{size:"sm",color:"success",icon:Object(l.jsx)(r.a,{size:12})}),Object(l.jsx)("h6",{className:"toast-title",children:t})]})})})},j=function(e){var t=e.message;return Object(l.jsx)(c.Fragment,{children:Object(l.jsx)("div",{className:"toastify-header",children:Object(l.jsxs)("div",{className:"title-wrapper",children:[Object(l.jsx)(s.a,{size:"sm",color:"success",icon:Object(l.jsx)(r.a,{size:12})}),Object(l.jsx)("h6",{className:"toast-title",children:t})]})})})},b=function(e){var t=e.message;return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("div",{className:"toastify-header",children:Object(l.jsxs)("div",{className:"title-wrapper",children:[Object(l.jsx)(s.a,{size:"sm",color:"success",icon:Object(l.jsx)(r.a,{size:12})}),Object(l.jsx)("h6",{className:"toast-title",children:t})]})}),Object(l.jsx)("div",{className:"toastify-body"})]})},f=function(e){var t=e.message;return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("div",{className:"toastify-header",children:Object(l.jsxs)("div",{className:"title-wrapper",children:[Object(l.jsx)(s.a,{size:"sm",color:"danger",icon:Object(l.jsx)(o.a,{size:12})}),Object(l.jsx)("h6",{className:"toast-title",children:t})]})}),Object(l.jsx)("div",{className:"toastify-body"})]})},O=function(){return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("div",{className:"toastify-header",children:Object(l.jsxs)("div",{className:"title-wrapper",children:[Object(l.jsx)(s.a,{size:"sm",color:"warning",icon:Object(l.jsx)(i.a,{size:12})}),Object(l.jsx)("h6",{className:"toast-title",children:"Warning!"})]})}),Object(l.jsx)("div",{className:"toastify-body",children:Object(l.jsx)("span",{role:"img","aria-label":"toast-text",children:"\ud83d\udc4b Text Content Empty"})})]})},m=function(e){return n.b.success(Object(l.jsx)(d,{message:e}),{hideProgressBar:!0})},h=function(e){return n.b.success(Object(l.jsx)(u,{message:e}),{hideProgressBar:!0})},p=function(e){return n.b.success(Object(l.jsx)(j,{message:e}),{hideProgressBar:!0})},x=function(e){return n.b.success(Object(l.jsx)(b,{message:e}),{hideProgressBar:!0})},g=function(e){return n.b.error(Object(l.jsx)(f,{message:e}),{hideProgressBar:!0})},v=function(){return n.b.warning(Object(l.jsx)(O,{}),{hideProgressBar:!0})}},457:function(e,t,a){"use strict";var c=a(458),n=a(480),s=a(481),r=a(6);t.a=function(e){var t=e.breadCrumbTitle,a=e.breadCrumbParent,o=e.breadCrumbParent2,i=e.breadCrumbParent3,l=e.breadCrumbActive;return Object(r.jsx)("div",{className:"content-header row",children:Object(r.jsx)("div",{className:"content-header-left col-md-9 col-12 mb-2",children:Object(r.jsx)("div",{className:"row breadcrumbs-top",children:Object(r.jsxs)("div",{className:"col-12",children:[t?Object(r.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(r.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(r.jsxs)(n.a,{children:[Object(r.jsx)(s.a,{tag:"li",children:Object(r.jsx)(c.b,{to:"/",children:"Home"})}),a?Object(r.jsx)(s.a,{tag:"li",className:"text-primary",children:Object(r.jsx)(c.b,{to:"/".concat(a),children:a})}):"",o?Object(r.jsx)(s.a,{tag:"li",className:"text-primary",children:o}):"",i?Object(r.jsx)(s.a,{tag:"li",className:"text-primary",children:i}):"",Object(r.jsx)(s.a,{tag:"li",active:!0,children:l})]})})]})})})})}},459:function(e,t,a){"use strict";var c=a(0),n=a(30),s=a(1),r=a(119),o=a.n(r),i=a(485),l=(a(460),a(6)),d=function(e){var t,a=e.children,r=e.blocking,i=e.loader,d=e.className,u=e.tag,j=e.overlayColor,b=u;return Object(l.jsxs)(b,{className:o()("ui-loader",(t={},Object(n.a)(t,d,d),Object(n.a)(t,"show",r),t)),children:[a,r?Object(l.jsxs)(s.Fragment,{children:[Object(l.jsx)("div",Object(c.a)({className:"overlay"},r&&j?{style:{backgroundColor:j}}:{})),Object(l.jsx)("div",{className:"loader",children:i})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(l.jsx)(i.a,{color:"primary"})}},460:function(e,t,a){},461:function(e,t,a){},497:function(e,t,a){},619:function(e,t,a){"use strict";a.d(t,"g",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return j})),a.d(t,"a",(function(){return b}));var c=a(452),n=a(453),s=a(451),r=a(454),o=function(e){return function(){var t=Object(n.a)(Object(c.a)().mark((function t(a){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_ALL_WALL_DATA_INIT"}),t.next=3,s.a.get("/feeds/list?page=".concat(e)).then((function(e){console.log(e),a({type:"GET_ALL_WALL_POST",data:e.data.data})})).catch((function(){a({type:"GET_ALL_WALL_DATA_FAIL"})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},i=function(e){return function(){var t=Object(n.a)(Object(c.a)().mark((function t(a){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.delete("/feeds/delete/".concat(e)).then((function(){Object(r.a)("successfully deleted"),a(o())})).catch((function(e){Object(r.a)("error"),a((function(e){e({type:"WALL_DELETE"})})),console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(n.a)(Object(c.a)().mark((function t(a){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a({type:"ADD_FEED_POST_INIT"}),null!==e.feed_content){t.next=5;break}Object(r.a)("Eror"),t.next=7;break;case 5:return t.next=7,s.a.post("/feeds/add",e).then((function(e){Object(r.b)(e.data.message),a({type:"ADD_FEED_POST",data:e.data.message})})).catch((function(e){Object(r.a)(e.response.data.message),console.log("Error in Feed Post: ",e),a({type:"ADD_FEED_POST_FAIL"})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(){return{type:"RESET_ADD_POST"}},u=function(e){return{type:"EDIT_POST_DATA",data:e}},j=function(e,t){return function(){var a=Object(n.a)(Object(c.a)().mark((function a(n){return Object(c.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"EDIT_POST_INIT"}),a.next=3,s.a.put("/feeds/edit/".concat(e),t).then((function(e){console.log(e),Object(r.d)(e.data.message),console.log("Respont : ",e),n({type:"EDIT_FEED_POST",data:e.data.message})})).catch((function(e){console.log(e),Object(r.a)(e.data.message),console.log("Error in Feed Post: ",e),n({type:"EDIT_POST_FAIL"})}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(n.a)(Object(c.a)().mark((function t(a){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("feeds/toggle_status/".concat(e)).then((function(e){Object(r.b)("successfully updated"),console.log(e),a({type:"FEED_TOGGLE_STATUS",data:e}),a(o())})).catch((function(e){Object(r.a)("error"),console.log(e),console.log("Error in Feed Post: ",e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},625:function(e,t,a){}}]);
//# sourceMappingURL=87.3811cdd3.chunk.js.map